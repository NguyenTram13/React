{"ast":null,"code":"var _jsxFileName = \"E:\\\\fullstack\\\\react\\\\my-app\\\\src\\\\contexts\\\\gallery-context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useState } from \"react\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fakeData = [{\n  id: 1,\n  url: \"https://images.unsplash.com/photo-1645040643524-8971366b4f68?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1932&q=80\",\n  isFavorite: false\n}, {\n  id: 2,\n  url: \"https://images.unsplash.com/photo-1645088520336-62d94324e869?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=800\",\n  isFavorite: false\n}, {\n  id: 3,\n  url: \"https://images.unsplash.com/photo-1645104787913-aeb889b0e190?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80\",\n  isFavorite: false\n}, {\n  id: 4,\n  url: \"https://images.unsplash.com/photo-1645069258059-6f5a71256c4a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1476&q=80\",\n  isFavorite: false\n}, {\n  id: 5,\n  url: \"https://images.unsplash.com/photo-1645105263866-ed2be8e07981?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1853&q=80\",\n  isFavorite: false\n}, {\n  id: 6,\n  url: \"https://images.unsplash.com/photo-1524758631624-e2822e304c36?ixlib=rb-1.2.1&ixid=MnwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80\",\n  isFavorite: false\n}];\nconst GalleryContext = /*#__PURE__*/createContext();\n\nfunction GalleryProvider(props) {\n  _s();\n\n  const {\n    storedValue,\n    setValue\n  } = useLocalStorage(\"photos\", fakeData);\n  const {\n    storedValue: storedCart,\n    setValue: setStoredCart\n  } = useLocalStorage(\"cartItems\", []);\n  console.log(storedValue);\n  const [photos, setPhotos] = useState(storedValue);\n  const [cartItems, setCartItems] = useState(storedCart);\n  const [favoriteList, setFavoriteList] = useState([]);\n\n  function toggleFavorite(photoId) {\n    const updatedArray = photos.map(photos => {\n      if (photos.id === photoId) {\n        return { ...photos,\n          isFavorite: !photos.isFavorite\n        };\n      }\n\n      return photos;\n    });\n    setPhotos(updatedArray);\n    setValue(updatedArray);\n  }\n\n  function addToCart(newItem) {\n    setCartItems(prevItem => {\n      const isExitsed = prevItem.some(item => item.id === newItem.id);\n      console.log(isExitsed);\n\n      if (isExitsed) {\n        setStoredCart([...prevItem]);\n        return [...prevItem];\n      }\n\n      setStoredCart([...prevItem, newItem]);\n      return [...prevItem, newItem];\n    });\n  }\n\n  function removeFromCart(photoId) {\n    setCartItems(prevItem => prevItem.filter(item => item.id !== photoId));\n  }\n\n  const value = {\n    photos,\n    cartItems,\n    favoriteList,\n    setPhotos,\n    setFavoriteList,\n    setCartItems,\n    toggleFavorite,\n    addToCart,\n    removeFromCart\n  }; // console.log(value);\n\n  return /*#__PURE__*/_jsxDEV(GalleryContext.Provider, {\n    value: value,\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GalleryProvider, \"BLPF6bnxzYKPTLbyxkT5TwBqJM0=\", false, function () {\n  return [useLocalStorage, useLocalStorage];\n});\n\n_c = GalleryProvider;\n\nfunction useGallery() {\n  _s2();\n\n  const context = useContext(GalleryContext); // console.log(context);\n\n  if (typeof context === \"undefined\") {\n    throw new Error(\"useGallery must be used within a GalleryProvider\");\n  }\n\n  return context;\n}\n\n_s2(useGallery, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport { GalleryProvider, useGallery };\n\nvar _c;\n\n$RefreshReg$(_c, \"GalleryProvider\");","map":{"version":3,"names":["createContext","useContext","useState","useLocalStorage","fakeData","id","url","isFavorite","GalleryContext","GalleryProvider","props","storedValue","setValue","storedCart","setStoredCart","console","log","photos","setPhotos","cartItems","setCartItems","favoriteList","setFavoriteList","toggleFavorite","photoId","updatedArray","map","addToCart","newItem","prevItem","isExitsed","some","item","removeFromCart","filter","value","useGallery","context","Error"],"sources":["E:/fullstack/react/my-app/src/contexts/gallery-context.js"],"sourcesContent":["import { createContext, useContext, useState } from \"react\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\n\r\nconst fakeData = [\r\n  {\r\n    id: 1,\r\n    url: \"https://images.unsplash.com/photo-1645040643524-8971366b4f68?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1932&q=80\",\r\n    isFavorite: false,\r\n  },\r\n  {\r\n    id: 2,\r\n    url: \"https://images.unsplash.com/photo-1645088520336-62d94324e869?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=800\",\r\n    isFavorite: false,\r\n  },\r\n  {\r\n    id: 3,\r\n    url: \"https://images.unsplash.com/photo-1645104787913-aeb889b0e190?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80\",\r\n    isFavorite: false,\r\n  },\r\n  {\r\n    id: 4,\r\n    url: \"https://images.unsplash.com/photo-1645069258059-6f5a71256c4a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1476&q=80\",\r\n    isFavorite: false,\r\n  },\r\n  {\r\n    id: 5,\r\n    url: \"https://images.unsplash.com/photo-1645105263866-ed2be8e07981?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1853&q=80\",\r\n    isFavorite: false,\r\n  },\r\n  {\r\n    id: 6,\r\n    url: \"https://images.unsplash.com/photo-1524758631624-e2822e304c36?ixlib=rb-1.2.1&ixid=MnwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80\",\r\n    isFavorite: false,\r\n  },\r\n];\r\n\r\nconst GalleryContext = createContext();\r\nfunction GalleryProvider(props) {\r\n  const { storedValue, setValue } = useLocalStorage(\"photos\", fakeData);\r\n  const { storedValue: storedCart, setValue: setStoredCart } = useLocalStorage(\r\n    \"cartItems\",\r\n    []\r\n  );\r\n\r\n  console.log(storedValue);\r\n  const [photos, setPhotos] = useState(storedValue);\r\n  const [cartItems, setCartItems] = useState(storedCart);\r\n  const [favoriteList, setFavoriteList] = useState([]);\r\n  function toggleFavorite(photoId) {\r\n    const updatedArray = photos.map((photos) => {\r\n      if (photos.id === photoId) {\r\n        return {\r\n          ...photos,\r\n          isFavorite: !photos.isFavorite,\r\n        };\r\n      }\r\n      return photos;\r\n    });\r\n    setPhotos(updatedArray);\r\n    setValue(updatedArray);\r\n  }\r\n\r\n  function addToCart(newItem) {\r\n    setCartItems((prevItem) => {\r\n      const isExitsed = prevItem.some((item) => item.id === newItem.id);\r\n      console.log(isExitsed);\r\n      if (isExitsed) {\r\n        setStoredCart([...prevItem]);\r\n        return [...prevItem];\r\n      }\r\n      setStoredCart([...prevItem, newItem]);\r\n      return [...prevItem, newItem];\r\n    });\r\n  }\r\n\r\n  function removeFromCart(photoId) {\r\n    setCartItems((prevItem) => prevItem.filter((item) => item.id !== photoId));\r\n  }\r\n\r\n  const value = {\r\n    photos,\r\n    cartItems,\r\n    favoriteList,\r\n    setPhotos,\r\n    setFavoriteList,\r\n    setCartItems,\r\n    toggleFavorite,\r\n    addToCart,\r\n    removeFromCart,\r\n  };\r\n  // console.log(value);\r\n  return (\r\n    <GalleryContext.Provider value={value} {...props}></GalleryContext.Provider>\r\n  );\r\n}\r\nfunction useGallery() {\r\n  const context = useContext(GalleryContext);\r\n  // console.log(context);\r\n  if (typeof context === \"undefined\") {\r\n    throw new Error(\"useGallery must be used within a GalleryProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nexport { GalleryProvider, useGallery };\r\n"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,QAApC,QAAoD,OAApD;AACA,OAAOC,eAAP,MAA4B,0BAA5B;;AAEA,MAAMC,QAAQ,GAAG,CACf;EACEC,EAAE,EAAE,CADN;EAEEC,GAAG,EAAE,gKAFP;EAGEC,UAAU,EAAE;AAHd,CADe,EAMf;EACEF,EAAE,EAAE,CADN;EAEEC,GAAG,EAAE,iKAFP;EAGEC,UAAU,EAAE;AAHd,CANe,EAWf;EACEF,EAAE,EAAE,CADN;EAEEC,GAAG,EAAE,gKAFP;EAGEC,UAAU,EAAE;AAHd,CAXe,EAgBf;EACEF,EAAE,EAAE,CADN;EAEEC,GAAG,EAAE,gKAFP;EAGEC,UAAU,EAAE;AAHd,CAhBe,EAqBf;EACEF,EAAE,EAAE,CADN;EAEEC,GAAG,EAAE,gKAFP;EAGEC,UAAU,EAAE;AAHd,CArBe,EA0Bf;EACEF,EAAE,EAAE,CADN;EAEEC,GAAG,EAAE,gKAFP;EAGEC,UAAU,EAAE;AAHd,CA1Be,CAAjB;AAiCA,MAAMC,cAAc,gBAAGR,aAAa,EAApC;;AACA,SAASS,eAAT,CAAyBC,KAAzB,EAAgC;EAAA;;EAC9B,MAAM;IAAEC,WAAF;IAAeC;EAAf,IAA4BT,eAAe,CAAC,QAAD,EAAWC,QAAX,CAAjD;EACA,MAAM;IAAEO,WAAW,EAAEE,UAAf;IAA2BD,QAAQ,EAAEE;EAArC,IAAuDX,eAAe,CAC1E,WAD0E,EAE1E,EAF0E,CAA5E;EAKAY,OAAO,CAACC,GAAR,CAAYL,WAAZ;EACA,MAAM,CAACM,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAACS,WAAD,CAApC;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BlB,QAAQ,CAACW,UAAD,CAA1C;EACA,MAAM,CAACQ,YAAD,EAAeC,eAAf,IAAkCpB,QAAQ,CAAC,EAAD,CAAhD;;EACA,SAASqB,cAAT,CAAwBC,OAAxB,EAAiC;IAC/B,MAAMC,YAAY,GAAGR,MAAM,CAACS,GAAP,CAAYT,MAAD,IAAY;MAC1C,IAAIA,MAAM,CAACZ,EAAP,KAAcmB,OAAlB,EAA2B;QACzB,OAAO,EACL,GAAGP,MADE;UAELV,UAAU,EAAE,CAACU,MAAM,CAACV;QAFf,CAAP;MAID;;MACD,OAAOU,MAAP;IACD,CARoB,CAArB;IASAC,SAAS,CAACO,YAAD,CAAT;IACAb,QAAQ,CAACa,YAAD,CAAR;EACD;;EAED,SAASE,SAAT,CAAmBC,OAAnB,EAA4B;IAC1BR,YAAY,CAAES,QAAD,IAAc;MACzB,MAAMC,SAAS,GAAGD,QAAQ,CAACE,IAAT,CAAeC,IAAD,IAAUA,IAAI,CAAC3B,EAAL,KAAYuB,OAAO,CAACvB,EAA5C,CAAlB;MACAU,OAAO,CAACC,GAAR,CAAYc,SAAZ;;MACA,IAAIA,SAAJ,EAAe;QACbhB,aAAa,CAAC,CAAC,GAAGe,QAAJ,CAAD,CAAb;QACA,OAAO,CAAC,GAAGA,QAAJ,CAAP;MACD;;MACDf,aAAa,CAAC,CAAC,GAAGe,QAAJ,EAAcD,OAAd,CAAD,CAAb;MACA,OAAO,CAAC,GAAGC,QAAJ,EAAcD,OAAd,CAAP;IACD,CATW,CAAZ;EAUD;;EAED,SAASK,cAAT,CAAwBT,OAAxB,EAAiC;IAC/BJ,YAAY,CAAES,QAAD,IAAcA,QAAQ,CAACK,MAAT,CAAiBF,IAAD,IAAUA,IAAI,CAAC3B,EAAL,KAAYmB,OAAtC,CAAf,CAAZ;EACD;;EAED,MAAMW,KAAK,GAAG;IACZlB,MADY;IAEZE,SAFY;IAGZE,YAHY;IAIZH,SAJY;IAKZI,eALY;IAMZF,YANY;IAOZG,cAPY;IAQZI,SARY;IASZM;EATY,CAAd,CA1C8B,CAqD9B;;EACA,oBACE,QAAC,cAAD,CAAgB,QAAhB;IAAyB,KAAK,EAAEE,KAAhC;IAAA,GAA2CzB;EAA3C;IAAA;IAAA;IAAA;EAAA,QADF;AAGD;;GAzDQD,e;UAC2BN,e,EAC2BA,e;;;KAFtDM,e;;AA0DT,SAAS2B,UAAT,GAAsB;EAAA;;EACpB,MAAMC,OAAO,GAAGpC,UAAU,CAACO,cAAD,CAA1B,CADoB,CAEpB;;EACA,IAAI,OAAO6B,OAAP,KAAmB,WAAvB,EAAoC;IAClC,MAAM,IAAIC,KAAJ,CAAU,kDAAV,CAAN;EACD;;EACD,OAAOD,OAAP;AACD;;IAPQD,U;;AAST,SAAS3B,eAAT,EAA0B2B,UAA1B"},"metadata":{},"sourceType":"module"}